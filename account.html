<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MitheralFX - Account Settings</title>

  <!-- External Libraries -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="/public/js/api.js"></script>

  <style>
    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #1a1a2e;
      --bg-tertiary: #16213e;
      --bg-card: rgba(255, 255, 255, 0.08);
      --bg-input: #252547;
      --bg-hover: rgba(255, 255, 255, 0.12);
      --primary: #ffd700;
      --primary-dark: #e6c200;
      --primary-gradient: linear-gradient(135deg, #ffd700, #ffed4e, #ffd700);
      --success: #10b981;
      --success-gradient: linear-gradient(135deg, #10b981, #34d399);
      --danger: #ef4444;
      --danger-gradient: linear-gradient(135deg, #ef4444, #f87171);
      --warning: #f59e0b;
      --info: #3b82f6;
      --accent: #8b5cf6;
      --accent-gradient: linear-gradient(135deg, #8b5cf6, #a78bfa);
      --text-primary: #ffffff;
      --text-secondary: #c2c8db;
      --text-muted: #8b92a5;
      --border: rgba(255, 255, 255, 0.15);
      --border-focus: rgba(255, 215, 0, 0.4);
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      --shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.4);
      --shadow-primary: 0 8px 32px rgba(255, 215, 0, 0.2);
      --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      --radius: 16px;
      --radius-lg: 24px;
      --glow: 0 0 20px rgba(255, 215, 0, 0.3);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary), var(--bg-tertiary));
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      color: var(--text-primary);
      min-height: 100vh;
      font-size: 16px;
      line-height: 1.6;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 20% 50%, rgba(255, 215, 0, 0.05) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
                  radial-gradient(circle at 40% 80%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    /* Header Styles */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .header-title {
      font-size: 2.5rem;
      font-weight: 800;
      background: var(--primary-gradient);
      background-size: 200% 200%;
      animation: gradientMove 3s ease infinite;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 4px 8px rgba(255, 215, 0, 0.3);
      position: relative;
    }

    .header-title::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--primary-gradient);
      border-radius: 2px;
      opacity: 0.6;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    /* Layout */
    .main-layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 2rem;
    }

    /* Sidebar */
    .sidebar {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: var(--radius-lg);
      padding: 2rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: var(--shadow);
      height: fit-content;
      position: sticky;
      top: 2rem;
      transition: var(--transition);
    }

    .sidebar:hover {
      box-shadow: var(--shadow-hover);
      transform: translateY(-2px);
    }

    .nav-menu {
      list-style: none;
    }

    .nav-item {
      margin-bottom: 0.5rem;
    }

    .nav-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 1.25rem;
      border-radius: 12px;
      color: var(--text-secondary);
      text-decoration: none;
      transition: var(--transition);
      font-weight: 500;
      position: relative;
      overflow: hidden;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0;
      background: var(--primary-gradient);
      transition: var(--transition);
      opacity: 0.1;
    }

    .nav-link:hover {
      background: var(--bg-hover);
      color: var(--text-primary);
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.1);
    }

    .nav-link:hover::before {
      width: 4px;
    }

    .nav-link.active {
      background: rgba(255, 215, 0, 0.15);
      color: var(--primary);
      box-shadow: var(--shadow-primary);
    }

    .nav-link.active::before {
      width: 4px;
      opacity: 1;
    }

    /* Content Area */
    .content {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: var(--radius-lg);
      padding: 2.5rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .content:hover {
      box-shadow: var(--shadow-hover);
    }

    /* Profile Section */
    .profile-section {
      display: flex;
      align-items: center;
      gap: 2rem;
      margin-bottom: 3rem;
      padding: 2.5rem;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
    }

    .profile-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: var(--primary-gradient);
      opacity: 0.6;
    }

    .profile-avatar-container {
      position: relative;
    }

    .profile-avatar {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid transparent;
      background: var(--primary-gradient);
      padding: 4px;
      box-shadow: var(--glow), var(--shadow);
      transition: var(--transition);
    }

    .profile-avatar:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.5), var(--shadow-hover);
    }

    .avatar-upload {
      position: absolute;
      bottom: 0;
      right: 0;
      background: var(--primary);
      color: var(--bg-primary);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .avatar-upload:hover {
      transform: scale(1.1);
    }

    .profile-info {
      flex: 1;
    }

    .profile-name {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .profile-details {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .profile-detail {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .detail-label {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .detail-value {
      font-weight: 600;
    }

    .account-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--primary-gradient);
      color: var(--bg-primary);
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      font-size: 0.875rem;
      font-weight: 700;
      box-shadow: var(--shadow-primary);
      transition: var(--transition);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .account-badge:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
    }

    /* Settings Sections */
    .settings-section {
      margin-bottom: 3rem;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 1rem;
      position: relative;
    }

    .section-title i {
      color: var(--primary);
      padding: 0.75rem;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2);
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 60px;
      height: 2px;
      background: var(--primary-gradient);
      border-radius: 2px;
    }

    /* Form Styles */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text-secondary);
    }

    .form-input {
      width: 100%;
      padding: 1rem 1.25rem;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      color: var(--text-primary);
      transition: var(--transition);
      font-size: 0.95rem;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.15), var(--shadow-primary);
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }

    .form-input:hover {
      border-color: rgba(255, 215, 0, 0.3);
    }

    .form-select {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      cursor: pointer;
    }

    .form-textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      resize: vertical;
      min-height: 100px;
    }

    .form-checkbox {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .form-checkbox input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    /* Button Styles */
    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      text-decoration: none;
    }

    .btn-primary {
      background: var(--primary-gradient);
      background-size: 200% 200%;
      color: var(--bg-primary);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      position: relative;
      overflow: hidden;
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .btn-primary:hover {
      background-position: right center;
      transform: translateY(-3px);
      box-shadow: var(--shadow-primary), 0 8px 25px rgba(255, 215, 0, 0.4);
    }

    .btn-primary:hover::before {
      left: 100%;
    }

    .btn-secondary {
      background: var(--bg-input);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: var(--bg-hover);
    }

    .btn-success {
      background: var(--success);
      color: white;
    }

    .btn-danger {
      background: var(--danger);
      color: white;
    }

    .btn-danger:hover {
      background: #d32f2f;
    }

    .btn-sm {
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
    }

    .btn-icon {
      padding: 0.5rem;
      border-radius: 6px;
    }

    /* Payment Methods */
    .payment-methods {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .payment-method {
      background: var(--bg-input);
      border: 2px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .payment-method:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .payment-method.active {
      border-color: var(--primary);
      background: rgba(255, 204, 0, 0.1);
    }

    .payment-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .saved-payments {
      margin-top: 2rem;
    }

    .saved-payment {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      background: var(--bg-input);
      border-radius: 8px;
      margin-bottom: 0.75rem;
    }

    .payment-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .payment-type {
      font-weight: 600;
    }

    .payment-number {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    /* Security Section */
    .security-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: var(--transition);
    }

    .security-item:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow);
      background: rgba(255, 255, 255, 0.08);
    }

    .security-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .security-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: var(--bg-hover);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
    }

    .security-details h4 {
      margin-bottom: 0.25rem;
    }

    .security-details p {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    .security-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .status-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .status-active {
      background: var(--success);
    }

    .status-inactive {
      background: var(--danger);
    }

    /* Sessions */
    .session-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.5rem;
      background: var(--bg-input);
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    .session-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .session-device {
      display: flex;
      flex-direction: column;
    }

    .session-name {
      font-weight: 600;
    }

    .session-details {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    .session-current {
      background: rgba(16, 185, 129, 0.2);
      color: var(--success);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    /* Danger Zone */
    .danger-zone {
      background: rgba(239, 68, 68, 0.08);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(239, 68, 68, 0.4);
      border-radius: var(--radius-lg);
      padding: 2.5rem;
      position: relative;
      overflow: hidden;
    }

    .danger-zone::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--danger-gradient);
      opacity: 0.8;
    }

    .danger-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .danger-header i {
      font-size: 2rem;
      color: var(--danger);
    }

    .danger-header h3 {
      color: var(--danger);
    }

    .danger-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .settings-section {
      animation: fadeInUp 0.6s ease forwards;
    }

    .settings-section:nth-child(odd) {
      animation-delay: 0.1s;
    }

    .settings-section:nth-child(even) {
      animation-delay: 0.2s;
    }

    /* Tooltip */
    .tooltip {
      position: relative;
      display: inline-block;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
      text-align: center;
      border-radius: 6px;
      padding: 0.5rem;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.875rem;
      box-shadow: var(--shadow);
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: var(--bg-card);
      margin: 5% auto;
      padding: 0;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem;
      border-bottom: 1px solid var(--border);
    }

    .modal-header h3 {
      margin: 0;
      color: var(--text-primary);
    }

    .close {
      color: var(--text-secondary);
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: var(--transition);
    }

    .close:hover {
      color: var(--text-primary);
    }

    .modal-body {
      padding: 1.5rem;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      padding: 1.5rem;
      border-top: 1px solid var(--border);
    }

    /* Mobile Responsive */
    @media (max-width: 1024px) {
      .main-layout {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .sidebar {
        position: static;
        padding: 1rem;
        order: -1;
        background: var(--bg-hover);
        margin-bottom: 1rem;
      }

      .nav-menu {
        display: flex;
        overflow-x: auto;
        padding: 0.5rem 0;
        gap: 0.75rem;
        scrollbar-width: thin;
        scrollbar-color: var(--primary) transparent;
      }

      .nav-menu::-webkit-scrollbar {
        height: 4px;
      }

      .nav-menu::-webkit-scrollbar-track {
        background: transparent;
      }

      .nav-menu::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 2px;
      }

      .nav-item {
        margin-bottom: 0;
        flex-shrink: 0;
      }

      .nav-link {
        white-space: nowrap;
        padding: 0.75rem 1.25rem;
        font-size: 0.875rem;
        border-radius: 25px;
        min-height: 44px; /* Touch target size */
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--bg-card);
        border: 1px solid var(--border);
      }

      .nav-link:hover,
      .nav-link.active {
        background: var(--primary);
        color: var(--bg-primary);
        border-color: var(--primary);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 204, 0, 0.3);
      }

      .content {
        padding: 1.5rem;
      }

      .header {
        padding: 1rem 0;
        text-align: center;
      }

      .header-title {
        font-size: 1.75rem;
        margin-bottom: 0.5rem;
      }

      .mobile-menu-btn {
        display: flex;
      }
    }

    @media (max-width: 768px) {
      .container {
        padding: 0.75rem;
        margin-top: 1rem;
      }

      .header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
        background: var(--bg-card);
        padding: 1.5rem;
        border-radius: var(--radius);
        margin-bottom: 1rem;
        border: 1px solid var(--border);
      }

      .header-title {
        font-size: 1.5rem;
        background: linear-gradient(135deg, var(--primary), #ffd700);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .header-title::before {
        content: '⚙️';
        font-size: 1.5rem;
      }

      .header-right {
        justify-content: center;
        gap: 0.75rem;
      }

      .profile-section {
        flex-direction: column;
        text-align: center;
        padding: 2rem 1.5rem;
        gap: 1.5rem;
      }

      .profile-avatar {
        width: 100px;
        height: 100px;
        box-shadow: 0 8px 24px rgba(255, 204, 0, 0.4);
      }

      .profile-details {
        justify-content: center;
        gap: 1.5rem;
        flex-wrap: wrap;
      }

      .profile-detail {
        background: var(--bg-input);
        padding: 1rem;
        border-radius: 8px;
        min-width: 150px;
        border: 1px solid var(--border);
      }

      .form-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
      }

      .form-input,
      .form-select,
      .form-textarea {
        padding: 1rem;
        font-size: 16px; /* Prevents zoom on iOS */
        border-radius: 12px;
        min-height: 48px; /* Better touch targets */
      }

      .btn {
        padding: 1rem 1.5rem;
        min-height: 48px;
        font-size: 1rem;
        border-radius: 12px;
        font-weight: 600;
      }

      .payment-methods {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .payment-method {
        padding: 1.5rem;
        min-height: 80px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .payment-method:active {
        transform: scale(0.98);
      }

      .saved-payment {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
        padding: 1.5rem;
        border-radius: 12px;
      }

      .session-item,
      .security-item {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
        padding: 1.5rem;
        border-radius: 12px;
      }

      .security-info {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
      }

      .security-icon {
        margin: 0 auto;
      }

      .danger-actions {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .content {
        padding: 1.5rem;
        border-radius: 16px;
      }

      .settings-section {
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: var(--bg-hover);
        border-radius: 16px;
        border: 1px solid var(--border);
      }

      .section-header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .section-title {
        font-size: 1.125rem;
        justify-content: center;
      }

      .modal-content {
        margin: 1rem;
        width: calc(100% - 2rem);
        max-height: calc(100vh - 2rem);
        overflow-y: auto;
        border-radius: 16px;
      }

      .modal-header,
      .modal-body,
      .modal-footer {
        padding: 1.5rem;
      }

      .form-checkbox {
        padding: 1rem;
        background: var(--bg-input);
        border-radius: 12px;
        border: 1px solid var(--border);
        margin-bottom: 0.75rem;
      }

      .form-checkbox input[type="checkbox"] {
        width: 20px;
        height: 20px;
        margin-right: 0.75rem;
      }

      /* Enhanced animations for mobile */
      .btn:active {
        transform: translateY(1px) scale(0.98);
      }

      .nav-link:active {
        transform: scale(0.95);
      }

      /* Improved scrolling */
      .nav-menu {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
      }
    }

    @media (max-width: 480px) {
      .header-title {
        font-size: 1.25rem;
      }

      .profile-avatar {
        width: 80px;
        height: 80px;
      }

      .profile-details {
        flex-direction: column;
        gap: 0.5rem;
      }

      .profile-detail {
        text-align: center;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .payment-method {
        padding: 1rem;
      }

      .form-input, .form-select, .form-textarea {
        font-size: 16px; /* Prevents zoom on iOS */
      }

      .nav-link {
        font-size: 0.8rem;
        padding: 0.5rem 0.75rem;
      }
    }
  </style>
</head>
<body>
  <!-- Welcome Modal -->
  <div id="welcomeModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 style="color: var(--primary);">
          <i class="fas fa-star"></i> Welcome Back!
        </h3>
        <span class="close" onclick="closeWelcomeModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div style="text-align: center; padding: 1rem;">
          <div style="font-size: 3rem; margin-bottom: 1rem;">
            <i class="fas fa-user-circle" style="color: var(--primary);"></i>
          </div>
          <h3 style="margin-bottom: 1rem; color: var(--text-primary);">Welcome to Your Account Dashboard!</h3>
          <p style="color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6;">
            Your account is ready to go. Here you can manage your personal information, 
            security settings, payment methods, and preferences. Take a moment to review 
            and update your profile information.
          </p>
          <div style="background: var(--bg-hover); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
            <p style="color: var(--primary); font-weight: 600;">
              <i class="fas fa-shield-alt"></i> Your account is secure and verified
            </p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="closeWelcomeModal()">
          <i class="fas fa-check"></i> Get Started
        </button>
      </div>
    </div>
  </div>

  <div class="container">
    <header class="header">
      <div class="header-left">
        <button class="mobile-menu-btn" onclick="toggleSidebar()">
          <i class="fas fa-bars"></i>
        </button>
        <h1 class="header-title">Account Settings</h1>
      </div>
      <div class="header-right">
        <div class="tooltip">
          <button class="btn btn-icon btn-secondary" onclick="exportData()">
            <i class="fas fa-download"></i>
          </button>
          <span class="tooltiptext">Export your data</span>
        </div>
        <div class="tooltip">
          <button class="btn btn-icon btn-secondary" onclick="showHelp()">
            <i class="fas fa-question-circle"></i>
          </button>
          <span class="tooltiptext">Get help</span>
        </div>
      </div>
    </header>

    <div class="main-layout">
      <!-- Sidebar Navigation -->
      <aside class="sidebar" id="sidebar">
        <nav>
          <ul class="nav-menu">
            <li class="nav-item">
              <a href="#profile" class="nav-link active" onclick="scrollToSection('profile', this)">
                <i class="fas fa-user"></i> Profile
              </a>
            </li>
            <li class="nav-item">
              <a href="#personal" class="nav-link" onclick="scrollToSection('personal', this)">
                <i class="fas fa-id-card"></i> Personal Info
              </a>
            </li>
            <li class="nav-item">
              <a href="#security" class="nav-link" onclick="scrollToSection('security', this)">
                <i class="fas fa-shield-alt"></i> Security
              </a>
            </li>
            <li class="nav-item">
              <a href="#payments" class="nav-link" onclick="scrollToSection('payments', this)">
                <i class="fas fa-credit-card"></i> Payment Methods
              </a>
            </li>
            <li class="nav-item">
              <a href="#notifications" class="nav-link" onclick="scrollToSection('notifications', this)">
                <i class="fas fa-bell"></i> Notifications
              </a>
            </li>
            <li class="nav-item">
              <a href="#sessions" class="nav-link" onclick="scrollToSection('sessions', this)">
                <i class="fas fa-laptop"></i> Active Sessions
              </a>
            </li>
            <li class="nav-item">
              <a href="#preferences" class="nav-link" onclick="scrollToSection('preferences', this)">
                <i class="fas fa-cog"></i> Preferences
              </a>
            </li>
            <li class="nav-item">
              <a href="#danger" class="nav-link" onclick="scrollToSection('danger', this)">
                <i class="fas fa-exclamation-triangle"></i> Danger Zone
              </a>
            </li>
          </ul>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="content">
        <!-- Profile Section -->
        <section id="profile" class="settings-section">
          <div class="profile-section">
            <div class="profile-avatar-container">
              <img src="https://via.placeholder.com/120" alt="Profile Avatar" class="profile-avatar" id="profileAvatar">
              <label for="avatarUpload" class="avatar-upload">
                <i class="fas fa-camera"></i>
              </label>
              <input type="file" id="avatarUpload" accept="image/*" style="display: none;" onchange="uploadAvatar(event)">
            </div>

            <div class="profile-info">
              <h2 class="profile-name" id="profileName">John Doe</h2>
              <div class="account-badge">
                <i class="fas fa-crown"></i>
                <span id="accountType">Premium Account</span>
              </div>

              <div class="profile-details">
                <div class="profile-detail">
                  <span class="detail-label">Account ID</span>
                  <span class="detail-value" id="accountId">MFX982451</span>
                </div>
                <div class="profile-detail">
                  <span class="detail-label">Member Since</span>
                  <span class="detail-value" id="memberSince">Jan 2023</span>
                </div>
                <div class="profile-detail">
                  <span class="detail-label">Last Login</span>
                  <span class="detail-value" id="lastLogin">Today, 10:30 AM</span>
                </div>
                <div class="profile-detail">
                  <span class="detail-label">Account Status</span>
                  <span class="detail-value">
                    <span class="status-indicator status-active"></span>
                    Active
                  </span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Personal Information -->
        <section id="personal" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-id-card"></i>
              Personal Information
            </h2>
          </div>

          <form id="personalInfoForm">
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label" for="firstName">First Name</label>
                <input type="text" id="firstName" class="form-input" value="John">
              </div>

              <div class="form-group">
                <label class="form-label" for="lastName">Last Name</label>
                <input type="text" id="lastName" class="form-input" value="Doe">
              </div>

              <div class="form-group">
                <label class="form-label" for="email">Email Address</label>
                <input type="email" id="email" class="form-input" value="john.doe@example.com">
              </div>

              <div class="form-group">
                <label class="form-label" for="phone">Phone Number</label>
                <input type="tel" id="phone" class="form-input" value="+1 (555) 123-4567">
              </div>

              <div class="form-group">
                <label class="form-label" for="dob">Date of Birth</label>
                <input type="date" id="dob" class="form-input" value="1990-01-01">
              </div>

              <div class="form-group">
                <label class="form-label" for="country">Country</label>
                <select id="country" class="form-select">
                  <option value="US" selected>United States</option>
                  <option value="CA">Canada</option>
                  <option value="UK">United Kingdom</option>
                  <option value="AU">Australia</option>
                  <option value="DE">Germany</option>
                  <option value="FR">France</option>
                  <option value="JP">Japan</option>
                  <option value="other">Other</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="bio">Bio</label>
              <textarea id="bio" class="form-textarea" placeholder="Tell us about yourself...">Professional trader with 5+ years of experience in forex and cryptocurrency markets.</textarea>
            </div>

            <button type="button" class="btn btn-primary" onclick="savePersonalInfo()">
              <i class="fas fa-save"></i> Save Changes
            </button>
          </form>
        </section>

        <!-- Security Settings -->
        <section id="security" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-shield-alt"></i>
              Security Settings
            </h2>
          </div>

          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-lock"></i>
              </div>
              <div class="security-details">
                <h4>Password</h4>
                <p>Last changed 3 months ago</p>
              </div>
            </div>
            <button class="btn btn-secondary" onclick="showPasswordModal()">
              Change Password
            </button>
          </div>

          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-mobile-alt"></i>
              </div>
              <div class="security-details">
                <h4>Two-Factor Authentication</h4>
                <p>Add an extra layer of security to your account</p>
              </div>
            </div>
            <div class="security-status">
              <span class="status-indicator status-inactive"></span>
              <button class="btn btn-primary" onclick="enable2FA()">
                Enable
              </button>
            </div>
          </div>

          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-fingerprint"></i>
              </div>
              <div class="security-details">
                <h4>Biometric Login</h4>
                <p>Use fingerprint or face recognition to login</p>
              </div>
            </div>
            <div class="security-status">
              <span class="status-indicator status-active"></span>
              <span>Enabled</span>
            </div>
          </div>

          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-key"></i>
              </div>
              <div class="security-details">
                <h4>API Keys</h4>
                <p>Manage your API access keys</p>
              </div>
            </div>
            <button class="btn btn-secondary" onclick="manageAPIKeys()">
              Manage Keys
            </button>
          </div>
        </section>

        <!-- Payment Methods -->
        <section id="payments" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-credit-card"></i>
              Payment Methods
            </h2>
            <button class="btn btn-primary btn-sm" onclick="showAddPaymentModal()">
              <i class="fas fa-plus"></i> Add Method
            </button>
          </div>

          <div class="payment-methods">
            <div class="payment-method" onclick="selectPaymentMethod('card')">
              <div class="payment-icon">
                <i class="fas fa-credit-card"></i>
              </div>
              <div class="payment-name">Credit/Debit Card</div>
            </div>

            <div class="payment-method" onclick="selectPaymentMethod('paypal')">
              <div class="payment-icon">
                <i class="fab fa-paypal"></i>
              </div>
              <div class="payment-name">PayPal</div>
            </div>

            <div class="payment-method" onclick="selectPaymentMethod('bank')">
              <div class="payment-icon">
                <i class="fas fa-university"></i>
              </div>
              <div class="payment-name">Bank Transfer</div>
            </div>

            <div class="payment-method" onclick="selectPaymentMethod('crypto')">
              <div class="payment-icon">
                <i class="fab fa-bitcoin"></i>
              </div>
              <div class="payment-name">Cryptocurrency</div>
            </div>
          </div>

          <div class="saved-payments">
            <h3>Saved Payment Methods</h3>
            <div class="saved-payment">
              <div class="payment-info">
                <i class="fab fa-cc-visa" style="font-size: 1.5rem; color: #1a1f71;"></i>
                <div>
                  <div class="payment-type">Visa ending in 4242</div>
                  <div class="payment-number">Expires 12/25</div>
                </div>
              </div>
              <div>
                <button class="btn btn-sm btn-secondary" onclick="editPayment('visa')">Edit</button>
                <button class="btn btn-sm btn-danger" onclick="removePayment('visa')">Remove</button>
              </div>
            </div>

            <div class="saved-payment">
              <div class="payment-info">
                <i class="fab fa-paypal" style="font-size: 1.5rem; color: #003087;"></i>
                <div>
                  <div class="payment-type">PayPal</div>
                  <div class="payment-number">john.doe@example.com</div>
                </div>
              </div>
              <div>
                <button class="btn btn-sm btn-secondary" onclick="editPayment('paypal')">Edit</button>
                <button class="btn btn-sm btn-danger" onclick="removePayment('paypal')">Remove</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Notification Settings -->
        <section id="notifications" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-bell"></i>
              Notification Preferences
            </h2>
          </div>

          <form id="notificationForm">
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="emailNotifications" checked>
                <label for="emailNotifications">Email Notifications</label>
              </div>
              <p style="color: var(--text-secondary); font-size: 0.875rem; margin-left: 1.5rem;">
                Receive important account updates via email
              </p>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="smsNotifications">
                <label for="smsNotifications">SMS Notifications</label>
              </div>
              <p style="color: var(--text-secondary); font-size: 0.875rem; margin-left: 1.5rem;">
                Get security alerts via SMS
              </p>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="pushNotifications" checked>
                <label for="pushNotifications">Push Notifications</label>
              </div>
              <p style="color: var(--text-secondary); font-size: 0.875rem; margin-left: 1.5rem;">
                Receive real-time notifications on your devices
              </p>
            </div>

            <h3 style="margin: 2rem 0 1rem;">Notification Types</h3>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="tradeAlerts" checked>
                <label for="tradeAlerts">Trade Alerts</label>
              </div>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="marketUpdates" checked>
                <label for="marketUpdates">Market Updates</label>
              </div>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="promotionalOffers">
                <label for="promotionalOffers">Promotional Offers</label>
              </div>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="securityAlerts" checked>
                <label for="securityAlerts">Security Alerts</label>
              </div>
            </div>

            <button type="button" class="btn btn-primary" onclick="saveNotificationSettings()">
              <i class="fas fa-save"></i> Save Preferences
            </button>
          </form>
        </section>

        <!-- Active Sessions -->
        <section id="sessions" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-laptop"></i>
              Active Sessions
            </h2>
            <button class="btn btn-danger btn-sm" onclick="terminateAllSessions()">
              <i class="fas fa-sign-out-alt"></i> Terminate All
            </button>
          </div>

          <div class="session-item">
            <div class="session-info">
              <i class="fas fa-desktop" style="font-size: 1.5rem; color: var(--primary);"></i>
              <div class="session-device">
                <div class="session-name">Chrome on Windows</div>
                <div class="session-details">New York, USA • Current session</div>
              </div>
            </div>
            <div>
              <span class="session-current">Current</span>
            </div>
          </div>

          <div class="session-item">
            <div class="session-info">
              <i class="fas fa-mobile-alt" style="font-size: 1.5rem; color: var(--primary);"></i>
              <div class="session-device">
                <div class="session-name">Safari on iPhone</div>
                <div class="session-details">Los Angeles, USA • 2 days ago</div>
              </div>
            </div>
            <button class="btn btn-danger btn-sm" onclick="terminateSession('iphone')">
              Terminate
            </button>
          </div>

          <div class="session-item">
            <div class="session-info">
              <i class="fas fa-tablet-alt" style="font-size: 1.5rem; color: var(--primary);"></i>
              <div class="session-device">
                <div class="session-name">Firefox on iPad</div>
                <div class="session-details">London, UK • 1 week ago</div>
              </div>
            </div>
            <button class="btn btn-danger btn-sm" onclick="terminateSession('ipad')">
              Terminate
            </button>
          </div>
        </section>

        <!-- Preferences -->
        <section id="preferences" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-cog"></i>
              Preferences
            </h2>
          </div>

          <form id="preferencesForm">
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label" for="language">Language</label>
                <select id="language" class="form-select">
                  <option value="en" selected>English</option>
                  <option value="es">Español</option>
                  <option value="fr">Français</option>
                  <option value="de">Deutsch</option>
                  <option value="it">Italiano</option>
                  <option value="pt">Português</option>
                  <option value="ru">Русский</option>
                  <option value="zh">中文</option>
                  <option value="ja">日本語</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="timezone">Timezone</label>
                <select id="timezone" class="form-select">
                  <option value="UTC-8" selected>Pacific Time (PT)</option>
                  <option value="UTC-7">Mountain Time (MT)</option>
                  <option value="UTC-6">Central Time (CT)</option>
                  <option value="UTC-5">Eastern Time (ET)</option>
                  <option value="UTC+0">Greenwich Mean Time (GMT)</option>
                  <option value="UTC+1">Central European Time (CET)</option>
                  <option value="UTC+8">China Standard Time (CST)</option>
                  <option value="UTC+9">Japan Standard Time (JST)</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="dateFormat">Date Format</label>
                <select id="dateFormat" class="form-select">
                  <option value="MM/DD/YYYY" selected>MM/DD/YYYY</option>
                  <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                  <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="currency">Default Currency</label>
                <select id="currency" class="form-select">
                  <option value="USD" selected>USD ($)</option>
                  <option value="EUR">EUR (€)</option>
                  <option value="GBP">GBP (£)</option>
                  <option value="JPY">JPY (¥)</option>
                  <option value="CAD">CAD ($)</option>
                  <option value="AUD">AUD ($)</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="darkMode" checked>
                <label for="darkMode">Dark Mode</label>
              </div>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="highContrast">
                <label for="highContrast">High Contrast Mode</label>
              </div>
            </div>

            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="animations" checked>
                <label for="animations">Enable Animations</label>
              </div>
            </div>

            <button type="button" class="btn btn-primary" onclick="savePreferences()">
              <i class="fas fa-save"></i> Save Preferences
            </button>
          </form>
        </section>

        <!-- Danger Zone -->
        <section id="danger" class="settings-section">
          <div class="danger-zone">
            <div class="danger-header">
              <i class="fas fa-exclamation-triangle"></i>
              <h3>Danger Zone</h3>
            </div>

            <p style="margin-bottom: 1.5rem;">
              These actions are irreversible and will have permanent effects on your account. 
              Please proceed with caution and make sure you understand the consequences.
            </p>

            <div class="danger-actions">
              <button class="btn btn-secondary" onclick="downloadData()">
                <i class="fas fa-download"></i> Download My Data
              </button>

              <button class="btn btn-secondary" onclick="requestDeletion()">
                <i class="fas fa-user-slash"></i> Request Account Deletion
              </button>

              <button class="btn btn-danger" onclick="freezeAccount()">
                <i class="fas fa-snowflake"></i> Freeze Account
              </button>

              <button class="btn btn-danger" onclick="deleteAccount()">
                <i class="fas fa-trash-alt"></i> Delete Account
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Password Change Modal -->
  <div id="passwordModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Change Password</h3>
        <span class="close" onclick="closeModal('passwordModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="passwordForm">
          <div class="form-group">
            <label class="form-label">Current Password</label>
            <input type="password" id="currentPassword" class="form-input" required>
          </div>

          <div class="form-group">
            <label class="form-label">New Password</label>
            <input type="password" id="newPassword" class="form-input" required>
            <small style="color: var(--text-secondary);">Must be at least 8 characters long</small>
          </div>

          <div class="form-group">
            <label class="form-label">Confirm New Password</label>
            <input type="password" id="confirmPassword" class="form-input" required>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('passwordModal')">Cancel</button>
        <button class="btn btn-primary" onclick="changePassword()">
          <i class="fas fa-key"></i> Change Password
        </button>
      </div>
    </div>
  </div>

  <!-- Add Payment Method Modal -->
  <div id="paymentModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add Payment Method</h3>
        <span class="close" onclick="closeModal('paymentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="paymentForm">
          <div class="form-group">
            <label class="form-label">Card Number</label>
            <input type="text" id="cardNumber" class="form-input" placeholder="1234 5678 9012 3456" maxlength="19">
          </div>

          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">Expiry Date</label>
              <input type="text" id="expiryDate" class="form-input" placeholder="MM/YY" maxlength="5">
            </div>

            <div class="form-group">
              <label class="form-label">CVV</label>
              <input type="text" id="cvv" class="form-input" placeholder="123" maxlength="4">
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Cardholder Name</label>
            <input type="text" id="cardholderName" class="form-input" placeholder="John Doe">
          </div>

          <div class="form-group">
            <label class="form-label">Billing Address</label>
            <textarea id="billingAddress" class="form-textarea" rows="3" placeholder="Enter billing address"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('paymentModal')">Cancel</button>
        <button class="btn btn-primary" onclick="addPaymentMethod()">
          <i class="fas fa-plus"></i> Add Method
        </button>
      </div>
    </div>
  </div>

  <script>
    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      loadUserData();
      initializeFormatters();
      showWelcomeMessage();
    });

    // Show welcome message for first-time visitors
    function showWelcomeMessage() {
      const hasSeenWelcome = localStorage.getItem('hasSeenAccountWelcome');
      if (!hasSeenWelcome) {
        setTimeout(() => {
          document.getElementById('welcomeModal').style.display = 'block';
        }, 1000);
      }
    }

    // Close welcome modal
    function closeWelcomeModal() {
      document.getElementById('welcomeModal').style.display = 'none';
      localStorage.setItem('hasSeenAccountWelcome', 'true');
    }

    // Toggle sidebar for mobile view
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.style.display = sidebar.style.display === 'block' ? 'none' : 'block';
    }

    // Load user data from backend
    async function loadUserData() {
      try {
        // Check authentication
        const token = localStorage.getItem('authToken');
        if (!token) {
          window.location.href = '/login.html';
          return;
        }

        // Load profile data from backend
        const response = await fetch('/api/profile', {
          headers: {
            'Authorization': `Bearer ${token}`,
            'Content-Type': 'application/json'
          }
        });

        if (!response.ok) {
          throw new Error('Failed to load profile');
        }

        const userData = await response.json();

        // Update profile information
        document.getElementById('profileName').textContent = `${userData.firstName} ${userData.lastName}`;
        document.getElementById('firstName').value = userData.firstName || '';
        document.getElementById('lastName').value = userData.lastName || '';
        document.getElementById('email').value = userData.email || '';
        document.getElementById('phone').value = userData.phone || '';
        document.getElementById('dob').value = userData.dob || '';
        document.getElementById('country').value = userData.country || 'US';
        document.getElementById('bio').value = userData.bio || '';

        // Update account information
        document.getElementById('accountId').textContent = userData.id || 'N/A';
        document.getElementById('accountType').textContent = 
          userData.accountType === 'demo' ? 'Demo Account' : 
          userData.accountType === 'live' ? 'Live Account' : 
          userData.vipStatus + ' Account';

        // Format join date
        if (userData.joinDate) {
          const joinDate = new Date(userData.joinDate);
          document.getElementById('memberSince').textContent = 
            joinDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
        }

        // Load preferences from user data
        const preferences = userData.preferences || {};
        document.getElementById('language').value = preferences.language || 'en';
        document.getElementById('timezone').value = preferences.timezone || 'UTC';
        document.getElementById('dateFormat').value = preferences.dateFormat || 'MM/DD/YYYY';
        document.getElementById('currency').value = preferences.currency || 'USD';
        document.getElementById('darkMode').checked = preferences.darkMode !== false;
        document.getElementById('highContrast').checked = preferences.highContrast || false;
        document.getElementById('animations').checked = preferences.animations !== false;

        // Load notification settings from user data
        const notifications = preferences.notifications || {};
        document.getElementById('emailNotifications').checked = notifications.email !== false;
        document.getElementById('smsNotifications').checked = notifications.sms || false;
        document.getElementById('pushNotifications').checked = notifications.push !== false;
        document.getElementById('tradeAlerts').checked = notifications.tradeAlerts !== false;
        document.getElementById('marketUpdates').checked = notifications.marketUpdates !== false;
        document.getElementById('promotionalOffers').checked = notifications.promotionalOffers || false;
        document.getElementById('securityAlerts').checked = notifications.securityAlerts !== false;

        // Set avatar (first letter of name)
        const avatarLetter = userData.firstName ? userData.firstName.charAt(0).toUpperCase() : 'U';
        document.getElementById('profileAvatar').src = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><rect width='120' height='120' fill='%23ffcc00'/><text x='60' y='75' font-family='Inter' font-size='48' font-weight='bold' text-anchor='middle' fill='%230f0c29'>${avatarLetter}</text></svg>`;

        // Update last login
        if (userData.lastLogin) {
          const lastLogin = new Date(userData.lastLogin);
          document.getElementById('lastLogin').textContent = 
            lastLogin.toLocaleDateString('en-US', { 
              weekday: 'short', 
              month: 'short', 
              day: 'numeric', 
              hour: '2-digit', 
              minute: '2-digit' 
            });
        }

        // Store user data locally for quick access
        localStorage.setItem('userData', JSON.stringify(userData));

      } catch (error) {
        console.error('Error loading user data:', error);
        // Fallback to localStorage if backend fails
        loadUserDataFromStorage();
      }
    }

    // Fallback function to load from localStorage
    function loadUserDataFromStorage() {
      const userData = JSON.parse(localStorage.getItem('userData') || '{}');

      document.getElementById('profileName').textContent = userData.fullName || userData.firstName + ' ' + userData.lastName || 'User';
      document.getElementById('firstName').value = userData.firstName || '';
      document.getElementById('lastName').value = userData.lastName || '';
      document.getElementById('email').value = userData.email || '';
      document.getElementById('phone').value = userData.phone || '';
      document.getElementById('dob').value = userData.dob || '';
      document.getElementById('country').value = userData.country || 'US';
      document.getElementById('bio').value = userData.bio || '';

      // Set default values for other fields
      document.getElementById('accountId').textContent = userData.id || 'N/A';
      document.getElementById('accountType').textContent = userData.accountType || 'Standard Account';
      document.getElementById('memberSince').textContent = 'Recently';
    }

    // Initialize formatters
    function initializeFormatters() {
      // Format card number input
      const cardNumberInput = document.getElementById('cardNumber');
      if (cardNumberInput) {
        cardNumberInput.addEventListener('input', function(e) {
          let value = e.target.value.replace(/\s/g, '');
          let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
          e.target.value = formattedValue;
        });
      }

      // Format expiry date input
      const expiryInput = document.getElementById('expiryDate');
      if (expiryInput) {
        expiryInput.addEventListener('input', function(e) {
          let value = e.target.value.replace(/\D/g, '');
          if (value.length >= 2) {
            value = value.slice(0, 2) + '/' + value.slice(2, 4);
          }
          e.target.value = value;
        });
      }

      // Format CVV input
      const cvvInput = document.getElementById('cvv');
      if (cvvInput) {
        cvvInput.addEventListener('input', function(e) {
          e.target.value = e.target.value.replace(/\D/g, '');
        });
      }
    }

    // Update last login time
    function updateLastLogin() {
      const now = new Date();
      const options = { 
        weekday: 'short', 
        month: 'short', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit' 
      };
      const formattedDate = now.toLocaleDateString('en-US', options);
      document.getElementById('lastLogin').textContent = formattedDate;
    }

    // Scroll to section
    function scrollToSection(sectionId, linkElement) {
      const section = document.getElementById(sectionId);
      section.scrollIntoView({ behavior: 'smooth' });

      // Update active nav link
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      linkElement.classList.add('active');
    }

    // Upload avatar
    function uploadAvatar(event) {
      const file = event.target.files[0];
      if (file) {
        // Validate file type
        if (!file.type.match('image.*')) {
          Swal.fire({
            icon: 'error',
            title: 'Invalid File',
            text: 'Please select an image file.',
          });
          return;
        }

        // Validate file size (max 5MB)
        if (file.size > 5 * 1024 * 1024) {
          Swal.fire({
            icon: 'error',
            title: 'File Too Large',
            text: 'Please select an image smaller than 5MB.',
          });
          return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('profileAvatar').src = e.target.result;
          localStorage.setItem('userAvatar', e.target.result);

          Swal.fire({
            icon: 'success',
            title: 'Avatar Updated',
            text: 'Your profile picture has been updated!',
            timer: 2000,
            showConfirmButton: false
          });
        };
        reader.readAsDataURL(file);
      }
    }

    // Save personal information
    async function savePersonalInfo() {
      const userData = {
        firstName: document.getElementById('firstName').value,
        lastName: document.getElementById('lastName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        dob: document.getElementById('dob').value,
        country: document.getElementById('country').value,
        bio: document.getElementById('bio').value
      };

      // Validate email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(userData.email)) {
        Swal.fire({
          icon: 'error',
          title: 'Invalid Email',
          text: 'Please enter a valid email address.',
        });
        return;
      }

      try {
        // Update profile on backend
        const token = localStorage.getItem('authToken');
        const response = await fetch('/api/profile', {
          method: 'PUT',
          headers: {
            'Authorization': `Bearer ${token}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(userData)
        });

        if (!response.ok) {
          throw new Error('Failed to update profile');
        }

        const updatedProfile = await response.json();

        // Update local display
        document.getElementById('profileName').textContent = `${userData.firstName} ${userData.lastName}`;

        // Update localStorage
        const currentUserData = JSON.parse(localStorage.getItem('userData') || '{}');
        const updatedUserData = { ...currentUserData, ...updatedProfile };
        localStorage.setItem('userData', JSON.stringify(updatedUserData));

        Swal.fire({
          icon: 'success',
          title: 'Saved!',
          text: 'Your personal information has been updated.',
          timer: 2000,
          showConfirmButton: false
        });
      } catch (error) {
        console.error('Error saving personal info:', error);
        Swal.fire({
          icon: 'error',
          title: 'Save Failed',
          text: 'Failed to save your information. Please try again.',
        });
      }
    }

    // Show password modal
    function showPasswordModal() {
      document.getElementById('passwordModal').style.display = 'block';
    }

    // Change password
    function changePassword() {
      const currentPassword = document.getElementById('currentPassword').value;
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;

      // Validate inputs
      if (!currentPassword || !newPassword || !confirmPassword) {
        Swal.fire({
          icon: 'error',
          title: 'Missing Fields',
          text: 'Please fill in all password fields.',
        });
        return;
      }

      // Check current password (in real app, this would be verified server-side)
      const savedPassword = localStorage.getItem('userPassword') || '123456';
      if (currentPassword !== savedPassword) {
        Swal.fire({
          icon: 'error',
          title: 'Incorrect Password',
          text: 'The current password you entered is incorrect.',
        });
        return;
      }

      // Validate new password
      if (newPassword.length < 8) {
        Swal.fire({
          icon: 'error',
          title: 'Weak Password',
          text: 'New password must be at least 8 characters long.',
        });
        return;
      }

      if (newPassword !== confirmPassword) {
        Swal.fire({
          icon: 'error',
          title: 'Passwords Don\'t Match',
          text: 'The new password and confirmation do not match.',
        });
        return;
      }

      // Save new password
      localStorage.setItem('userPassword', newPassword);

      // Close modal and clear form
      closeModal('passwordModal');
      document.getElementById('passwordForm').reset();

      Swal.fire({
        icon: 'success',
        title: 'Password Changed',
        text: 'Your password has been updated successfully!',
        timer: 2000,
        showConfirmButton: false
      });
    }

    // Enable 2FA
    function enable2FA() {
      Swal.fire({
        title: 'Enable Two-Factor Authentication',
        html: `
          <p>Two-factor authentication adds an extra layer of security to your account.</p>
          <div style="text-align: left; margin-top: 1rem;">
            <p><strong>How it works:</strong></p>
            <ol>
              <li>Download an authenticator app (Google Authenticator, Authy, etc.)</li>
              <li>Scan the QR code with your app</li>
              <li>Enter the verification code</li>
            </ol>
          </div>
        `,
        icon: 'info',
        showCancelButton: true,
        confirmButtonText: 'Enable 2FA',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#10b981'
      }).then((result) => {
        if (result.isConfirmed) {
          // In a real app, this would set up 2FA
          localStorage.setItem('twoFactorEnabled', 'true');

          Swal.fire({
            icon: 'success',
            title: '2FA Enabled',
            text: 'Two-factor authentication has been enabled for your account.',
            timer: 2000,
            showConfirmButton: false
          });

          // Update UI
          location.reload();
        }
      });
    }

    // Manage API keys
    function manageAPIKeys() {
      Swal.fire({
        title: 'API Keys',
        html: `
          <div style="text-align: left;">
            <div style="background: var(--bg-input); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <strong>Live API Key</strong>
                <span class="status-indicator status-active"></span>
              </div>
              <code style="word-break: break-all; font-size: 0.875rem;">mk_live_5x7y9z1a3b5c7d9e1f3g5h7i9j1k3l5m7</code>
            </div>
            <div style="background: var(--bg-input); padding: 1rem; border-radius: 8px;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <strong>Test API Key</strong>
                <span class="status-indicator status-active"></span>
              </div>
              <code style="word-break: break-all; font-size: 0.875rem;">mk_test_5x7y9z1a3b5c7d9e1f3g5h7i9j1k3l5m7</code>
            </div>
          </div>
        `,
        showConfirmButton: false,
        showCloseButton: true
      });
    }

    // Show add payment modal
    function showAddPaymentModal() {
      document.getElementById('paymentModal').style.display = 'block';
    }

    // Add payment method
    async function addPaymentMethod() {
      const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g, '');
      const expiryDate = document.getElementById('expiryDate').value;
      const cvv = document.getElementById('cvv').value;
      const cardholderName = document.getElementById('cardholderName').value;
      const billingAddress = document.getElementById('billingAddress').value;

      // Validate inputs
      if (!cardNumber || !expiryDate || !cvv || !cardholderName || !billingAddress) {
        Swal.fire({
          icon: 'error',
          title: 'Missing Information',
          text: 'Please fill in all required fields.',
        });
        return;
      }

      // Validate card number (simplified)
      if (cardNumber.length !== 16) {
        Swal.fire({
          icon: 'error',
          title: 'Invalid Card Number',
          text: 'Please enter a valid 16-digit card number.',
        });
        return;
      }

      // Save payment method (in real app, this would be sent to server)
      const paymentMethods = JSON.parse(localStorage.getItem('paymentMethods')) || [];
      paymentMethods.push({
        type: 'card',
        lastFour: cardNumber.slice(-4),
        expiry: expiryDate,
        cardholder: cardholderName
      });
      localStorage.setItem('paymentMethods', JSON.stringify(paymentMethods));

      // Close modal and clear form
      closeModal('paymentModal');
      document.getElementById('paymentForm').reset();

      Swal.fire({
        icon: 'success',
        title: 'Payment Method Added',
        text: 'Your payment method has been saved successfully.',
        timer: 2000,
        showConfirmButton: false
      });

      // Reload page to show new payment method
      location.reload();
    }

    // Edit payment method
    function editPayment(methodId) {
      Swal.fire({
        title: 'Edit Payment Method',
        text: 'This feature is coming soon!',
        icon: 'info'
      });
    }

    // Remove payment method
    function removePayment(methodId) {
      Swal.fire({
        title: 'Remove Payment Method',
        text: 'Are you sure you want to remove this payment method?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Remove',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          // Remove payment method (in real app, this would be done on server)
          let paymentMethods = JSON.parse(localStorage.getItem('paymentMethods')) || [];
          paymentMethods = paymentMethods.filter(method => method.id !== methodId);
          localStorage.setItem('paymentMethods', JSON.stringify(paymentMethods));

          Swal.fire({
            icon: 'success',
            title: 'Removed',
            text: 'Payment method has been removed.',
            timer: 2000,
            showConfirmButton: false
          });

          // Reload page to update payment methods list
          location.reload();
        }
      });
    }

    // Save notification settings
    async function saveNotificationSettings() {
      const notifications = {
        email: document.getElementById('emailNotifications').checked,
        sms: document.getElementById('smsNotifications').checked,
        push: document.getElementById('pushNotifications').checked,
        tradeAlerts: document.getElementById('tradeAlerts').checked,
        marketUpdates: document.getElementById('marketUpdates').checked,
        promotionalOffers: document.getElementById('promotionalOffers').checked,
        securityAlerts: document.getElementById('securityAlerts').checked
      };

      try {
        // Get current user data
        const currentUserData = JSON.parse(localStorage.getItem('userData') || '{}');

        // Update notification preferences in user data
        const updatedUserData = {
          ...currentUserData,
          preferences: {
            ...currentUserData.preferences,
            notifications: notifications
          }
        };

        // Update on backend
        await window.API.updateProfile(updatedUserData);

        // Update localStorage
        localStorage.setItem('userData', JSON.stringify(updatedUserData));
        localStorage.setItem('notifications', JSON.stringify(notifications));

        Swal.fire({
          icon: 'success',
          title: 'Preferences Saved',
          text: 'Your notification preferences have been updated.',
          timer: 2000,
          showConfirmButton: false
        });
      } catch (error) {
        console.error('Error saving notification settings:', error);
        Swal.fire({
          icon: 'error',
          title: 'Save Failed',
          text: 'Failed to save your notification preferences. Please try again.',
        });
      }
    }

    // Terminate session
    function terminateSession(sessionId) {
      Swal.fire({
        title: 'Terminate Session',
        text: 'Are you sure you want to terminate this session?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Terminate',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          Swal.fire({
            icon: 'success',
            title: 'Session Terminated',
            text: 'The session has been terminated successfully.',
            timer: 2000,
            showConfirmButton: false
          });

          // In a real app, this would terminate the session on the server
          // For demo, we'll just reload the page
          setTimeout(() => location.reload(), 2000);
        }
      });
    }

    // Terminate all sessions
    function terminateAllSessions() {
      Swal.fire({
        title: 'Terminate All Sessions',
        text: 'Are you sure you want to terminate all other sessions? You will be logged out everywhere else.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Terminate All',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          Swal.fire({
            icon: 'success',
            title: 'All Sessions Terminated',
            text: 'All other sessions have been terminated successfully.',
            timer: 2000,
            showConfirmButton: false
          });

          // In a real app, this would terminate all sessions on the server
          // For demo, we'll just reload the page
          setTimeout(() => location.reload(), 2000);
        }
      });
    }

    // Save preferences
    async function savePreferences() {
      const preferences = {
        language: document.getElementById('language').value,
        timezone: document.getElementById('timezone').value,
        dateFormat: document.getElementById('dateFormat').value,
        currency: document.getElementById('currency').value,
        darkMode: document.getElementById('darkMode').checked,
        highContrast: document.getElementById('highContrast').checked,
        animations: document.getElementById('animations').checked
      };

      try {
        // Get current user data
        const currentUserData = JSON.parse(localStorage.getItem('userData') || '{}');

        // Update preferences in user data
        const updatedUserData = {
          ...currentUserData,
          preferences: {
            ...currentUserData.preferences,
            ...preferences
          }
        };

        // Update on backend
        await window.API.updateProfile(updatedUserData);

        // Update localStorage
        localStorage.setItem('userData', JSON.stringify(updatedUserData));
        localStorage.setItem('preferences', JSON.stringify(preferences));

        // Apply theme changes immediately
        if (preferences.darkMode) {
          document.body.classList.add('dark-theme');
        } else {
          document.body.classList.remove('dark-theme');
        }

        Swal.fire({
          icon: 'success',
          title: 'Preferences Saved',
          text: 'Your preferences have been updated.',
          timer: 2000,
          showConfirmButton: false
        });
      } catch (error) {
        console.error('Error saving preferences:', error);
        Swal.fire({
          icon: 'error',
          title: 'Save Failed',
          text: 'Failed to save your preferences. Please try again.',
        });
      }
    }

    // Download data
    function downloadData() {
      // Collect all user data
      const userData = {
        personal: JSON.parse(localStorage.getItem('userData')) || {},
        account: JSON.parse(localStorage.getItem('accountData')) || {},
        preferences: JSON.parse(localStorage.getItem('preferences')) || {},
        notifications: JSON.parse(localStorage.getItem('notifications')) || {},
        paymentMethods: JSON.parse(localStorage.getItem('paymentMethods')) || []
      };

      // Convert to JSON and create blob
      const dataStr = JSON.stringify(userData, null, 2);
      const dataBlob = new Blob([dataStr], { type: 'application/json' });

      // Create download link
      const url = URL.createObjectURL(dataBlob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'mitheralfx-account-data.json';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);

      Swal.fire({
        icon: 'success',
        title: 'Data Downloaded',
        text: 'Your account data has been downloaded successfully.',
        timer: 2000,
        showConfirmButton: false
      });
    }

    // Request account deletion
    function requestDeletion() {
      Swal.fire({
        title: 'Request Account Deletion',
        html: `
          <p>We're sorry to see you go. Account deletion is permanent and cannot be undone.</p>
          <p style="margin-top: 1rem;"><strong>What happens when you delete your account:</strong></p>
          <ul style="text-align: left; margin-left: 1.5rem;">
            <li>All your personal data will be permanently deleted</li>
            <li>All trading history will be lost</li>
            <li>All open positions will be closed</li>
            <li>All funds will be withdrawn to your linked account</li>
          </ul>
        `,
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Request Deletion',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          // In a real app, this would initiate the deletion process
          localStorage.setItem('deletionRequested', 'true');

          Swal.fire({
            icon: 'info',
            title: 'Deletion Requested',
            text: 'You will receive an email with further instructions to complete the deletion process.',
            timer: 3000,
            showConfirmButton: false
          });
        }
      });
    }

    // Freeze account
    function freezeAccount() {
      Swal.fire({
        title: 'Freeze Account',
        text: 'Are you sure you want to freeze your account? You won\'t be able to trade or access your funds until you unfreeze it.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Freeze Account',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#3b82f6'
      }).then((result) => {
        if (result.isConfirmed) {
          localStorage.setItem('accountFrozen', 'true');

          Swal.fire({
            icon: 'success',
            title: 'Account Frozen',
            text: 'Your account has been frozen successfully.',
            timer: 2000,
            showConfirmButton: false
          });
        }
      });
    }

    // Delete account
    function deleteAccount() {
      Swal.fire({
        title: 'Delete Account Permanently',
        html: `
          <p>This action cannot be undone. This will permanently delete your account and remove all your data.</p>
          <p style="margin-top: 1rem; color: var(--danger);"><strong>Warning:</strong> This action is irreversible!</p>
        `,
        icon: 'error',
        showCancelButton: true,
        confirmButtonText: 'Yes, Delete My Account',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444',
        reverseButtons: true
      }).then((result) => {
        if (result.isConfirmed) {
          // Clear all localStorage data
          localStorage.clear();

          Swal.fire({
            icon: 'success',
            title: 'Account Deleted',
            text: 'Your account has been deleted successfully.',
            timer: 2000,
            showConfirmButton: false
          }).then(() => {
            // Redirect to login page
            window.location.href = 'login.html';
          });
        }
      });
    }

    // Export data (same as download)
    function exportData() {
      downloadData();
    }

    // Show help
    function showHelp() {
      Swal.fire({
        title: 'Help & Support',
        html: `
          <div style="text-align: left;">
            <p>If you need help with your account settings, you can:</p>
            <ul style="margin-left: 1.5rem;">
              <li>Check our <a href="#" style="color: var(--primary);">Knowledge Base</a></li>
              <li>Contact our <a href="#" style="color: var(--primary);">Support Team</a></li>
              <li>Join our <a href="#" style="color: var(--primary);">Community Forum</a></li>
            </ul>
            <p style="margin-top: 1rem;">For immediate assistance, use the live chat in the bottom right corner.</p>
          </div>
        `,
        icon: 'info',
        confirmButtonText: 'Got it'
      });
    }

    // Close modal
    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      if (event.target.classList.contains('modal')) {
        event.target.style.display = 'none';
      }
    }
  </script>
</body>
</html>